<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ‘¤ Ø¨Ø±ÙˆÙØ§ÙŠÙ„ÙŠ - OraaSlayer</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
/* ğŸ¨ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø­Ø³Ù†Ø© */
:root {
  --primary: #5FD8FF; /* Ù„ÙˆÙ† Ø£Ø²Ø±Ù‚ Ø³Ù…Ø§ÙˆÙŠ Ø¬Ø¯ÙŠØ¯ */
  --secondary: #8B7BFF; /* Ù„ÙˆÙ† Ø¨Ù†ÙØ³Ø¬ÙŠ Ø¬Ø°Ø§Ø¨ */
  --accent: #FF7BA9; /* Ù„ÙˆÙ† ÙˆØ±Ø¯ÙŠ/Ø£Ø­Ù…Ø± Ù„Ù„ØªØ£ÙƒÙŠØ¯ */
  --dark: #0A0A1F; /* Ø®Ù„ÙÙŠØ© Ø£Ø¹Ù…Ù‚ */
  --card: rgba(18, 18, 40, 0.85); /* Ø¨Ø·Ø§Ù‚Ø© Ø´Ø¨Ù‡ Ø´ÙØ§ÙØ© Ù„Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© */
  --text: #FFFFFF;
  --glass: rgba(255, 255, 255, 0.1); /* Ø£Ø³Ø§Ø³ Ø²Ø¬Ø§Ø¬ÙŠ Ø®ÙÙŠÙ */
  --border: rgba(255, 255, 255, 0.15); /* Ø­Ø¯ÙˆØ¯ Ø£Ø±Ù‚ */
  --success: #3DD8A9;
  --error: #FF6B82;
  --info: #5FD8FF; 
  --shadow-color: rgba(0, 0, 0, 0.7); /* Ù„ÙˆÙ† Ø¸Ù„ Ø£ØºÙ…Ù‚ */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  background: var(--dark);
  color: var(--text);
  font-family: 'Cairo', sans-serif;
  min-height: 100vh;
  background: linear-gradient(145deg, #0A0A1F 0%, #171735 100%);
  padding: 0;
  overflow-x: hidden;
}

/* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
.loading-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--dark);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  transition: opacity 0.3s ease;
}

.loading-spinner {
  width: 50px;
  height: 50px;
  border: 3px solid var(--glass);
  border-top: 3px solid var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
.login-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--dark);
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 20px;
  z-index: 9998;
}

.login-screen.show {
  display: flex;
}

.login-icon {
  font-size: 4.5rem; /* Ø­Ø¬Ù… Ø£ÙƒØ¨Ø± */
  color: var(--primary);
  margin-bottom: 25px;
  animation: bounce 3s infinite;
  text-shadow: 0 0 20px var(--primary); /* Ø¸Ù„ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø«Ø±Ø§Ø¡ Ø§Ù„Ø¨ØµØ±ÙŠ */
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
}

.login-screen h2 {
  font-size: 2rem;
  margin-bottom: 15px;
  font-weight: 800;
  background: linear-gradient(90deg, var(--secondary), var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.login-screen p {
  color: rgba(255, 255, 255, 0.7); /* Ù„ÙˆÙ† Ø£ÙØªØ­ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
  margin-bottom: 40px;
  font-size: 1.15rem;
  max-width: 400px;
  line-height: 1.6;
}

.login-btn {
  background: linear-gradient(135deg, var(--secondary), var(--primary));
  border: none;
  color: white;
  padding: 18px 36px; /* Ø­Ø¬Ù… Ø£ÙƒØ¨Ø± */
  border-radius: 15px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: 'Cairo', sans-serif;
  font-size: 1.2rem;
  display: flex;
  align-items: center;
  gap: 12px;
  text-decoration: none;
  box-shadow: 0 10px 30px rgba(139, 123, 255, 0.4);
}

.login-btn:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 35px rgba(139, 123, 255, 0.6);
}

/* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù‡Ø§ØªÙ - ØªÙ… Ø¬Ø¹Ù„Ù‡ Ù…Ø±ÙƒØ²ÙŠÙ‹Ø§ */
.mobile-layout {
  display: none;
  min-height: 100vh;
  padding-bottom: 80px;
  max-width: 600px; /* ØªØ­Ø¯ÙŠØ¯ Ø¹Ø±Ø¶ Ø£Ù‚ØµÙ‰ Ù„Ù„Ù‡Ø§ØªÙ */
  margin: 0 auto;
  position: relative; /* Ù„Ø¶Ù…Ø§Ù† ØªÙ…Ø±ÙƒØ² Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø¯Ø§Ø®Ù„Ù‡ */
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…Ø®ØµØµ Ù„Ù„Ù‡Ø§ØªÙ */
.mobile-header {
  background: rgba(18, 18, 40, 0.95); /* Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
  backdrop-filter: blur(25px); /* ÙÙ„ØªØ± Ø²Ø¬Ø§Ø¬ÙŠ Ø£Ù‚ÙˆÙ‰ */
  padding: 15px 20px;
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 10px var(--shadow-color);
}

.mobile-header .logo {
  font-size: 1.6rem;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.header-actions {
  display: flex;
  gap: 10px;
}

.header-btn {
  background: var(--glass);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: 'Cairo', sans-serif;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 6px;
  backdrop-filter: blur(10px); /* ÙÙ„ØªØ± Ø®ÙÙŠÙ */
}

.header-btn:active {
  transform: scale(0.95);
  box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.1);
}

/* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„ */
.profile-section {
  padding: 0 20px;
  margin-top: 20px;
}

.cover-container {
  height: 180px; /* Ø§Ø±ØªÙØ§Ø¹ Ø£ÙƒØ¨Ø± Ù„Ù„ØºÙ„Ø§Ù */
  border-radius: 25px; /* Ø­ÙˆØ§Ù Ø£ÙƒØ«Ø± Ø§Ø³ØªØ¯Ø§Ø±Ø© */
  overflow: hidden;
  position: relative;
  background: linear-gradient(135deg, var(--secondary), var(--primary));
  margin-bottom: 80px; /* Ù‡Ø§Ù…Ø´ Ø£ÙƒØ¨Ø± Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© */
  box-shadow: 0 10px 30px var(--shadow-color);
}

.cover-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center top; 
  transition: transform 0.5s ease;
}

.cover-image:hover {
  transform: scale(1.05); /* ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ø¨Ø³ÙŠØ· */
}

.profile-content {
  background: var(--card);
  backdrop-filter: blur(25px); /* Ø²Ø¬Ø§Ø¬ÙŠØ© Ø£Ù‚ÙˆÙ‰ */
  border-radius: 25px;
  padding: 30px 20px;
  margin-top: -80px;
  text-align: center;
  border: 1px solid var(--border);
  box-shadow: 0 25px 50px var(--shadow-color);
}

.profile-image {
  width: 110px; /* Ø­Ø¬Ù… Ø£ÙƒØ¨Ø± */
  height: 110px;
  border-radius: 50%;
  border: 5px solid var(--primary); /* Ø­Ø¯ÙˆØ¯ Ø£Ø³Ù…Ùƒ ÙˆØ¨Ù„ÙˆÙ† Ø£Ø³Ø§Ø³ÙŠ */
  object-fit: cover;
  margin: -95px auto 18px; /* Ø¶Ø¨Ø· Ø§Ù„Ù‡Ø§Ù…Ø´ */
  background: var(--dark);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  transition: transform 0.3s ease;
}

.profile-image:hover {
  transform: scale(1.05);
}

.profile-name {
  font-size: 1.8rem;
  font-weight: 800;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.verified-badge {
  color: #FFD700; /* Ù„ÙˆÙ† Ø°Ù‡Ø¨ÙŠ Ù„Ù„ØªÙˆØ«ÙŠÙ‚ */
  font-size: 1.2rem;
  display: none;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.1); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

.profile-bio {
  color: rgba(255, 255, 255, 0.7);
  font-size: 1rem;
  line-height: 1.6;
  margin-bottom: 30px;
  max-width: 350px;
  margin-left: auto;
  margin-right: auto;
}

/* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px; /* ØªØ¨Ø§Ø¹Ø¯ Ø£ÙƒØ¨Ø± */
  margin-bottom: 30px;
}

.stat-card {
  background: rgba(255, 255, 255, 0.05); /* Ø²Ø¬Ø§Ø¬ÙŠ Ø£ÙØªØ­ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
  backdrop-filter: blur(15px);
  padding: 20px 15px; /* ØªØ¨Ø§Ø¹Ø¯ Ø£ÙƒØ¨Ø± */
  border-radius: 20px;
  border: 1px solid var(--border);
  text-align: center;
  transition: all 0.3s ease;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.stat-card:hover {
  box-shadow: 0 8px 20px var(--secondary);
}

.stat-card:active {
  transform: scale(0.95); /* ØªØ£Ø«ÙŠØ± Ø¶ØºØ· Ø£ÙˆØ¶Ø­ */
}

.stat-number {
  display: block;
  font-size: 1.6rem; /* Ø­Ø¬Ù… Ø£ÙƒØ¨Ø± */
  font-weight: 900;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 5px;
}

.stat-label {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.6);
}

/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… - ØªØµÙ…ÙŠÙ… Ù…ÙˆØ­Ø¯ ÙˆÙ…Ù…ÙŠØ² */
.actions-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin-bottom: 30px;
}

.action-btn {
  background: var(--card); /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ù…Ù† Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
  border: 2px solid var(--border);
  color: white;
  padding: 15px 12px;
  border-radius: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  font-family: 'Cairo', sans-serif;
  font-size: 0.9rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  min-height: 80px; /* Ø§Ø±ØªÙØ§Ø¹ Ø£ÙƒØ¨Ø± */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

.action-btn i {
  font-size: 1.2rem;
  background: linear-gradient(45deg, var(--secondary), var(--primary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.action-btn:hover {
  background: linear-gradient(135deg, rgba(95, 216, 255, 0.1), rgba(139, 123, 255, 0.1));
}

.action-btn:active {
  transform: scale(0.95);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
  transition-duration: 0.1s; 
}

/* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
.section {
  margin: 40px 20px; /* Ù‡Ø§Ù…Ø´ Ø£ÙƒØ¨Ø± */
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 25px;
}

.section-title {
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 10px;
  text-shadow: 0 0 5px rgba(95, 216, 255, 0.5);
}

.section-title i {
  font-size: 1.5rem;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø© */
.anime-scroll {
  display: flex;
  overflow-x: auto;
  gap: 15px;
  padding: 10px 5px;
  scrollbar-width: thin; 
  scrollbar-color: var(--primary) var(--card); 
  -ms-overflow-style: -ms-autohiding-scrollbar; 
}

.anime-scroll::-webkit-scrollbar {
  height: 6px;
}

.anime-scroll::-webkit-scrollbar-thumb {
  background-color: var(--primary);
  border-radius: 10px;
  border: 1px solid var(--card);
}

.anime-scroll::-webkit-scrollbar-track {
  background: var(--card);
}

.anime-card {
  min-width: 120px; /* Ø¹Ø±Ø¶ Ø£ÙƒØ¨Ø± Ù„Ù„Ø¨Ø·Ø§Ù‚Ø© */
  background: var(--card);
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border);
  transition: all 0.3s ease;
  flex-shrink: 0;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
}

.anime-card:hover {
  transform: translateY(-5px);
}

.anime-card:active {
  transform: scale(0.98);
}

.anime-image {
  width: 120px;
  height: 170px; /* Ø§Ø±ØªÙØ§Ø¹ Ø£ÙƒØ¨Ø± */
  object-fit: cover;
  display: block;
}

.anime-title {
  padding: 10px 8px;
  font-size: 0.9rem;
  font-weight: 700;
  text-align: center;
  background: rgba(0, 0, 0, 0.4);
  line-height: 1.3;
  min-height: 45px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª */
.badges-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
}

.badge-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(15px);
  border-radius: 16px;
  padding: 25px 15px;
  text-align: center;
  border: 1px solid var(--border);
  transition: all 0.3s ease;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.badge-card:active {
  transform: scale(0.95);
}

.badge-icon {
  font-size: 2.5rem; /* Ø­Ø¬Ù… Ø£ÙƒØ¨Ø± Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 15px;
  display: block;
}

.badge-name {
  font-size: 0.9rem;
  font-weight: 700;
  line-height: 1.3;
  color: rgba(255, 255, 255, 0.85);
}

/* Ø§Ù„ÙÙˆØªØ± */
.mobile-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: rgba(18, 18, 40, 0.95);
  backdrop-filter: blur(25px);
  border-top: 1px solid var(--border);
  padding: 15px 10px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  box-shadow: 0 -2px 10px var(--shadow-color);
  max-width: 600px;
  margin: 0 auto;
  left: 50%;
  transform: translateX(-50%);
}

.footer-btn {
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.7);
  padding: 10px 15px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
  font-family: 'Cairo', sans-serif;
  font-size: 0.85rem;
  min-width: 65px;
}

.footer-btn.active {
  background: rgba(95, 216, 255, 0.1);
  color: var(--primary);
  box-shadow: 0 0 10px rgba(95, 216, 255, 0.4);
}

.footer-btn i {
  font-size: 1.3rem;
}

/* Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
.notification {
  position: fixed;
  top: 80px;
  right: 20px;
  left: 20px;
  background: var(--card);
  backdrop-filter: blur(25px);
  border: 1px solid var(--border);
  color: white;
  padding: 15px 18px;
  border-radius: 16px;
  box-shadow: 0 10px 30px var(--shadow-color);
  z-index: 1000;
  transform: translateY(-100px);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  display: flex;
  align-items: center;
  gap: 12px;
  max-width: 560px; /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ø±Ø¶ */
  margin: 0 auto;
  right: 0;
  left: 0;
}

.notification.show {
  transform: translateY(0);
  opacity: 1;
}

.notification i {
  font-size: 1.4rem;
}

.notification.success i {
  color: var(--success);
}

.notification.error i {
  color: var(--error);
}

.notification.loading i {
  color: var(--info);
  animation: spin 0.8s linear infinite;
}

/* Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(10px);
  z-index: 2000;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

.modal-overlay.show {
  display: flex;
}

.modal-content {
  background: var(--card);
  backdrop-filter: blur(25px);
  border: 1px solid var(--border);
  padding: 30px 25px;
  border-radius: 20px;
  width: 100%;
  max-width: 380px; /* Ø¹Ø±Ø¶ Ø£ÙƒØ¨Ø± Ù„Ù„Ù†Ø§ÙØ°Ø© */
  text-align: right;
  box-shadow: 0 30px 60px var(--shadow-color);
  transform: scale(0.95);
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.modal-overlay.show .modal-content {
    transform: scale(1);
}

.modal-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 25px;
}

.modal-title {
  font-size: 1.5rem;
  font-weight: 800;
  color: var(--primary);
}

.modal-input {
  width: 100%;
  padding: 16px 18px;
  background: rgba(255, 255, 255, 0.05); /* Ø¥Ø¯Ø®Ø§Ù„ Ø²Ø¬Ø§Ø¬ÙŠ */
  border: 1px solid var(--border);
  border-radius: 14px;
  color: var(--text);
  font-family: 'Cairo', sans-serif;
  font-size: 1.05rem;
  margin-bottom: 25px;
  outline: none;
  transition: all 0.3s ease;
}

.modal-input:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 4px rgba(95, 216, 255, 0.3);
  background: rgba(255, 255, 255, 0.1);
}

.modal-actions {
  display: flex;
  gap: 15px;
  justify-content: flex-end;
}

.modal-btn {
  border: none;
  padding: 14px 22px;
  border-radius: 14px;
  cursor: pointer;
  font-weight: 700;
  transition: all 0.3s ease;
  font-family: 'Cairo', sans-serif;
  font-size: 1rem;
  min-width: 90px;
}

.modal-btn.primary {
  background: linear-gradient(135deg, var(--secondary), var(--primary));
  color: white;
  box-shadow: 0 5px 15px rgba(139, 123, 255, 0.4);
}

.modal-btn.primary:active {
  transform: translateY(2px);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
}

.modal-btn.secondary {
  background: var(--glass);
  color: rgba(255, 255, 255, 0.8);
  border: 1px solid var(--border);
}

/* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø®ØªÙ„ÙØ© */
@media (max-width: 480px) {
  .profile-section, .section {
    padding-left: 15px;
    padding-right: 15px;
  }
  
  .mobile-header, .mobile-footer {
    padding-left: 15px;
    padding-right: 15px;
  }
  
  .login-screen h2 {
    font-size: 1.6rem;
  }
  
  .login-btn {
    padding: 15px 30px;
  }
  
  .profile-name {
    font-size: 1.6rem;
  }
  
  .anime-card {
    min-width: 100px;
  }
  
  .anime-image {
    width: 100px;
    height: 140px;
  }
}

/* Ø¥Ø²Ø§Ù„Ø© Ø­Ø¬Ø¨ Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø£ÙƒØ¨Ø± Ù„ØºØ±Ø¶ Ø§Ù„ØªØ·ÙˆÙŠØ± */
@media (min-width: 768px) {
  body::after {
    content: none; 
  }
  .mobile-layout {
    display: block; /* Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø±Ø¤ÙŠØ© Ø§Ù„ØªØµÙ…ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ÙƒØ¥Ø·Ø§Ø± Ù…Ø±ÙƒØ²ÙŠ */
    border-left: 1px solid var(--border);
    border-right: 1px solid var(--border);
    box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
  }
}


/* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¸Ù‡ÙˆØ± */
.stats-grid .stat-card,
.actions-grid .action-btn,
.anime-scroll .anime-card,
.badges-grid .badge-card {
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.7s cubic-bezier(0.23, 1, 0.320, 1);
}
</style>
</head>

<body>
<div class="loading-screen" id="loadingScreen">
  <div class="loading-spinner"></div>
  <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
</div>

<div class="login-screen" id="loginScreen">
  <div class="login-icon"><i class="fa-solid fa-lock"></i></div>
  <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨</h2>
  <p>Ø³Ø¬Ù‘Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨Ø±ÙˆÙØ§ÙŠÙ„Ùƒ ÙˆØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</p>
  <a href="login.html" class="login-btn">
    <i class="fa-solid fa-right-to-bracket"></i>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  </a>
</div>

<div class="mobile-layout" id="mobileLayout">
  <header class="mobile-header">
    <div class="logo">ğŸŒ€ **OraaSlayer**</div>
    <div class="header-actions">
      <button class="header-btn" onclick="location.href='index.html'">
        <i class="fa-solid fa-house"></i>
      </button>
      <button class="header-btn" id="logoutBtn">
        <i class="fa-solid fa-right-from-bracket"></i>
      </button>
    </div>
  </header>

  <main>
    <section class="profile-section">
      <div class="cover-container">
        <img src="https://images.unsplash.com/photo-1549497621-e37456729906?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Cover" class="cover-image" id="coverImage" loading="lazy" onerror="this.src='https://placehold.co/600x180/1A1A3A/5FD8FF?text=Cover+Image'"> 
      </div>
      
      <div class="profile-content">
        <img src="https://i.ibb.co/YRShYmn/avatar.png" alt="Profile" class="profile-image" id="profileImage" loading="lazy" onerror="this.src='https://i.ibb.co/YRShYmn/avatar.png'">
        
        <div class="profile-name">
          <span id="userName">Oraa</span>
          <i class="fa-solid fa-circle-check verified-badge" id="verifiedBadge" title="Ø­Ø³Ø§Ø¨ Ù…ÙˆØ«Ù‚"></i>
        </div>
        
        <p class="profile-bio" id="userBio">Ø¹Ø§Ø´Ù‚ Ø§Ù„Ø£Ù†Ù…ÙŠ âœ¨ | Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø¹ÙˆØ§Ù„Ù… Ø§Ù„Ø®ÙŠØ§Ù„ÙŠØ© ğŸš€ | Ù…Ø­Ø¨ Ù„Ù„ØªØ­Ø¯ÙŠØ§Øª ğŸ¯</p>
        
        <div class="stats-grid">
          <div class="stat-card">
            <span class="stat-number" id="animeCount">0</span>
            <span class="stat-label">Ø£Ù†Ù…ÙŠ</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="watchTime">0</span>
            <span class="stat-label">Ø³Ø§Ø¹Ø© Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="followersCount">0</span>
            <span class="stat-label">Ù…ØªØ§Ø¨Ø¹</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="achievementsCount">0</span>
            <span class="stat-label">Ø¥Ù†Ø¬Ø§Ø²</span>
          </div>
        </div>
        
        <div class="actions-grid">
          <button class="action-btn" id="editNameBtn">
            <i class="fa-solid fa-user-pen"></i>
            <span>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù…</span>
          </button>
          <button class="action-btn" id="editBioBtn">
            <i class="fa-solid fa-comment-dots"></i>
            <span>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø¨Ø°Ø©</span>
          </button>
          <button class="action-btn" id="changeImageBtn">
            <i class="fa-solid fa-image-portrait"></i> 
            <span>ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©</span>
          </button>
          <button class="action-btn" id="changeCoverBtn">
            <i class="fa-solid fa-mountain-sun"></i>
            <span>ØªØºÙŠÙŠØ± Ø§Ù„ØºÙ„Ø§Ù</span>
          </button>
          <button class="action-btn" id="verifyAccountBtn">
            <i class="fa-solid fa-shield-halved"></i> 
            <span>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨</span>
          </button>
          <button class="action-btn" id="settingsBtn">
            <i class="fa-solid fa-gear"></i>
            <span>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
          </button>
        </div>
      </div>
    </section>
    
    <section class="section">
      <div class="section-header">
        <h3 class="section-title">
          <i class="fa-solid fa-heart"></i>
          Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©
        </h3>
      </div>
      <div class="anime-scroll" id="animeList">
        </div>
    </section>
    
    <section class="section">
      <div class="section-header">
        <h3 class="section-title">
          <i class="fa-solid fa-trophy"></i>
          Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙŠ
        </h3>
      </div>
      <div class="badges-grid">
        <div class="badge-card">
          <i class="fa-solid fa-fire-flame-curved badge-icon"></i>
          <div class="badge-name">Ù…Ø­ØªØ±Ù Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
        </div>
        <div class="badge-card">
          <i class="fa-solid fa-star-sharp badge-icon"></i>
          <div class="badge-name">Ø§Ù„Ù†Ø§Ù‚Ø¯ Ø§Ù„Ù…Ù…ÙŠØ²</div>
        </div>
        <div class="badge-card">
          <i class="fa-solid fa-gem badge-icon"></i>
          <div class="badge-name">Ø¬Ø§Ù…Ø¹ Ø§Ù„Ù…ÙØ¶Ù„Ø©</div>
        </div>
        <div class="badge-card">
          <i class="fa-solid fa-wand-magic-sparkles badge-icon"></i>
          <div class="badge-name">Ø³Ø§Ø­Ø± Ø§Ù„ØªØµÙ…ÙŠÙ…</div>
        </div>
      </div>
    </section>
  </main>
  
  <footer class="mobile-footer">
    <button class="footer-btn active">
      <i class="fa-solid fa-user"></i>
      <span>Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„</span>
    </button>
    <button class="footer-btn" onclick="location.href='index.html'">
      <i class="fa-solid fa-house"></i>
      <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
    </button>
    <button class="footer-btn" onclick="location.href='anime.html'">
      <i class="fa-solid fa-play"></i>
      <span>Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
    </button>
    <button class="footer-btn" onclick="location.href='favorites.html'">
      <i class="fa-solid fa-heart"></i>
      <span>Ø§Ù„Ù…ÙØ¶Ù„Ø©</span>
    </button>
  </footer>
</div>

<div class="notification" id="notification">
  <i class="fa-solid fa-circle-check"></i>
  <span id="notificationText">ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!</span>
</div>

<div class="modal-overlay" id="modalOverlay">
  <div class="modal-content">
    <div class="modal-header">
      <i class="fa-solid fa-pen"></i>
      <h3 class="modal-title" id="modalTitle">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
    </div>
    <input type="text" class="modal-input" id="modalInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©...">
    <div class="modal-actions">
      <button class="modal-btn secondary" id="modalCancel">Ø¥Ù„ØºØ§Ø¡</button>
      <button class="modal-btn primary" id="modalConfirm">ØªØ£ÙƒÙŠØ¯</button>
    </div>
  </div>
</div>

<script type="module">
// ğŸ”¥ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…ÙƒØªØ¨Ø§Øª Firebase (Ø§Ù„Ø¥ØµØ¯Ø§Ø± 10.9.0 Ø£Ùˆ Ø£Ø­Ø¯Ø« Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªÙˆØ§ÙÙ‚)
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
import { 
  getAuth, 
  onAuthStateChanged, 
  signOut,
  updateProfile // Ù„ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… ÙˆØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
} from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";
import { 
  getFirestore, 
  doc, 
  getDoc, 
  setDoc, 
  updateDoc,
  collection,
  getDocs,
  query,
} from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";
import { 
    getStorage, 
    ref, 
    uploadBytes, 
    getDownloadURL 
} from "https://www.gstatic.com/firebasejs/10.9.0/firebase-storage.js";

// ØªÙƒÙˆÙŠÙ† Firebase Ø§Ù„Ø®Ø§Øµ Ø¨Ù…Ø´Ø±ÙˆØ¹Ùƒ
const firebaseConfig = {
  apiKey: "AIzaSyBDMFcCvthKNkHUrEbgYY1Uc80KTPpS01M",
  authDomain: "oraa-slayer-anime.firebaseapp.com",
  projectId: "oraa-slayer-anime",
  storageBucket: "oraa-slayer-anime.firebasestorage.app",
  messagingSenderId: "426607460785",
  appId: "1:426607460785:web:c8d9844253c9111ad3bd90",
  measurementId: "G-VNHP64HXD5"
};

// ØªÙ‡ÙŠØ¦Ø© Ø®Ø¯Ù…Ø§Øª Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const storage = getStorage(app);

// Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
let currentUser = null;
let userData = null;
let verificationCode = null; 

// Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ù„Ø£Ù†Ù…ÙŠ (Ù„Ù„Ø¹Ø±Ø¶ ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Firestore)
const sampleAnime = [
  { title: "Ù‡Ø¬ÙˆÙ… Ø§Ù„Ø¹Ù…Ø§Ù„Ù‚Ø©", image: "https://cdn.myanimelist.net/images/anime/10/47347.jpg" },
  { title: "Ù‚Ø§ØªÙ„ Ø§Ù„Ø´ÙŠØ§Ø·ÙŠÙ†", image: "https://cdn.myanimelist.net/images/anime/1286/99889.jpg" },
  { title: "ÙˆÙ† Ø¨ÙŠØ³", image: "https://cdn.myanimelist.net/images/anime/6/73245.jpg" },
  { title: "Ù…Ø°ÙƒØ±Ø© Ø§Ù„Ù…ÙˆØª", image: "https://cdn.myanimelist.net/images/anime/9/9453.jpg" },
  { title: "Ø³Ø¨Ø§ÙŠ Ã— ÙØ§Ù…ÙŠÙ„ÙŠ", image: "https://cdn.myanimelist.net/images/anime/1441/122795.jpg" }
];

// ØªØ®Ø²ÙŠÙ† Ø¹Ù†Ø§ØµØ± DOM Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ getElementById
const dom = {
    loadingScreen: document.getElementById('loadingScreen'),
    loginScreen: document.getElementById('loginScreen'),
    mobileLayout: document.getElementById('mobileLayout'),
    userName: document.getElementById('userName'),
    userBio: document.getElementById('userBio'),
    animeCount: document.getElementById('animeCount'),
    watchTime: document.getElementById('watchTime'),
    followersCount: document.getElementById('followersCount'),
    achievementsCount: document.getElementById('achievementsCount'),
    verifiedBadge: document.getElementById('verifiedBadge'),
    profileImage: document.getElementById('profileImage'),
    coverImage: document.getElementById('coverImage'),
    animeList: document.getElementById('animeList'),
    notification: document.getElementById('notification'),
    notificationText: document.getElementById('notificationText'),
    modalOverlay: document.getElementById('modalOverlay'),
    modalTitle: document.getElementById('modalTitle'),
    modalInput: document.getElementById('modalInput'),
    modalConfirm: document.getElementById('modalConfirm'),
    modalCancel: document.getElementById('modalCancel'),
    logoutBtn: document.getElementById('logoutBtn'),
    editNameBtn: document.getElementById('editNameBtn'),
    editBioBtn: document.getElementById('editBioBtn'),
    changeImageBtn: document.getElementById('changeImageBtn'),
    changeCoverBtn: document.getElementById('changeCoverBtn'),
    verifyAccountBtn: document.getElementById('verifyAccountBtn'),
    settingsBtn: document.getElementById('settingsBtn'),
};


// ğŸ”¥ Ø¬Ù„Ø¨ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ù…Ù† Firestore
async function fetchVerificationCode() {
    try {
        const configDocRef = doc(db, "config", "appSettings");
        const configDoc = await getDoc(configDocRef);
        if (configDoc.exists() && configDoc.data().verificationCode) {
            verificationCode = configDoc.data().verificationCode;
        } else {
             // Ù‚ÙŠÙ…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯Ù‡Ø§
            verificationCode = "ORAA#2025"; 
            console.warn("âš ï¸ ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙˆØ¯ ØªÙØ¹ÙŠÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ.");
        }
    } catch (error) {
        console.error("ğŸš¨ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„:", error);
        verificationCode = "ORAA#2025"; // Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ÙØ´Ù„
    }
}


// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', function() {
  
  // 1. Ø¬Ù„Ø¨ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø£ÙˆÙ„Ø§Ù‹
  fetchVerificationCode();
  
  // 2. Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Auth State)
  onAuthStateChanged(auth, async (user) => {
    
    if (user) {
      // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      currentUser = user;
      dom.loginScreen.classList.remove('show');
      dom.loadingScreen.style.display = 'none';
      dom.mobileLayout.style.display = 'block';
      
      // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙ‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù†Ù…ÙŠ
      await loadUserData(user);
      loadAnimeList();
      initAnimations();
    } else {
      // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      dom.mobileLayout.style.display = 'none';
      dom.loadingScreen.style.display = 'none';
      dom.loginScreen.classList.add('show');
    }
  });
  
  // 3. Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
  setupEventListeners();
});

// ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Firestore
async function loadUserData(user) {
  try {
    const userDocRef = doc(db, "users", user.uid);
    const userDoc = await getDoc(userDocRef);
    
    if (userDoc.exists()) {
      userData = userDoc.data();
    } else {
      // Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Initial Setup)
      userData = {
        name: user.displayName || "Oraa",
        bio: "Ø¹Ø§Ø´Ù‚ Ø§Ù„Ø£Ù†Ù…ÙŠ âœ¨ | Ù…Ø³ØªÙƒØ´Ù Ø§Ù„Ø¹ÙˆØ§Ù„Ù… Ø§Ù„Ø®ÙŠØ§Ù„ÙŠØ© ğŸš€ | Ù…Ø­Ø¨ Ù„Ù„ØªØ­Ø¯ÙŠØ§Øª ğŸ¯",
        stats: {
          anime: 0,
          watchTime: "0",
          followers: "0",
          achievements: 0
        },
        verified: false,
        profileImage: user.photoURL || "https://i.ibb.co/YRShYmn/avatar.png",
        coverImage: "https://images.unsplash.com/photo-1549497621-e37456729906?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
      };
      
      // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Firestore
      await setDoc(userDocRef, userData);
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    updateUserInterface();
    
  } catch (error) {
    console.error("ğŸš¨ Ø®Ø·Ø£ ÙØ§Ø¯Ø­ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:", error);
    // Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ Ø£ÙƒØ«Ø± ÙˆØ¶ÙˆØ­Ø§Ù‹
    showNotification("âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ. Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø£Ùˆ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø£Ù…Ø§Ù†.", "error"); 
  }
}

// ğŸ”¥ ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
function updateUserInterface() {
  if (!userData) return;
  
  dom.userName.textContent = userData.name;
  dom.userBio.textContent = userData.bio;
  dom.animeCount.textContent = userData.stats.anime || '0';
  dom.watchTime.textContent = userData.stats.watchTime || '0';
  dom.followersCount.textContent = userData.stats.followers || '0';
  dom.achievementsCount.textContent = userData.stats.achievements || '0';
  
  // ØªØ­Ø¯ÙŠØ« Ø´Ø§Ø±Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø¨Ø´ÙƒÙ„ ÙÙˆØ±ÙŠ
  dom.verifiedBadge.style.display = userData.verified ? 'inline' : 'none';
  
  // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±
  if (userData.profileImage) {
    dom.profileImage.src = userData.profileImage;
  }
  
  if (userData.coverImage) {
    dom.coverImage.src = userData.coverImage;
  }
}

// ğŸ”¥ ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Firebase
async function updateUserData(updates) {
  showNotification("â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...", "loading");
  try {
    const userDocRef = doc(db, "users", currentUser.uid);
    await updateDoc(userDocRef, updates);
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø«Ù… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø´ÙƒÙ„ ÙÙˆØ±ÙŠ
    userData = { ...userData, ...updates };
    updateUserInterface();
    
    showNotification("âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­!");
    return true;
  } catch (error) {
    console.error("ğŸš¨ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:", error);
    showNotification(`âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ${error.message.includes('permission-denied') ? 'Ù„Ø§ ØªÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„' : 'Ø®Ø·Ø£ ÙÙ†ÙŠ'}`, "error");
    return false;
  }
}

// ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù…Ù† Firebase (Ù…Ø¬Ù…ÙˆØ¹Ø© ÙØ±Ø¹ÙŠØ©)
async function loadAnimeList() {
  try {
    dom.animeList.innerHTML = ''; // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ©
    
    // Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© ÙØ±Ø¹ÙŠØ© "favorites"
    const favoritesCollectionRef = collection(db, "users", currentUser.uid, "favorites");
    const querySnapshot = await getDocs(favoritesCollectionRef);
    
    // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ù…Ø­Ù„ÙŠØ©
    const animeCount = querySnapshot.size;
    userData.stats.anime = animeCount; 
    
    if (querySnapshot.empty || animeCount === 0) {
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…ÙØ¶Ù„Ø§Øª
      sampleAnime.forEach(anime => {
        createAnimeCard(dom.animeList, anime);
      });
      // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„ØºØ±Ø¶ Ø§Ù„Ø¹Ø±Ø¶ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙØ§Ø±ØºØ©
      userData.stats.achievements = 4;
    } else {
      querySnapshot.forEach((doc) => {
        const animeData = doc.data();
        createAnimeCard(dom.animeList, animeData);
      });
      // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ØªÙˆÙØ±Ø©
      userData.stats.achievements = 4; // ÙŠØ¬Ø¨ Ø±Ø¨Ø·Ù‡Ø§ Ø¨Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©
    }
    
    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    updateUserInterface();
    
  } catch (error) {
    console.error("ğŸš¨ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù†Ù…ÙŠ:", error);
    // ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ØŒ Ù†Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø¸Ù‡ÙˆØ± Ø´Ø§Ø´Ø© ÙØ§Ø±ØºØ©
    dom.animeList.innerHTML = ''; 
    sampleAnime.forEach(anime => {
      createAnimeCard(dom.animeList, anime);
    });
    showNotification("âš ï¸ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù…ÙØ¶Ù„Ø§ØªÙƒØŒ ØªÙ… Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©", "error");
  }
}

// ğŸ”¥ Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£Ù†Ù…ÙŠ
function createAnimeCard(container, anime) {
  const animeCard = document.createElement('div');
  animeCard.className = 'anime-card';
  animeCard.innerHTML = `
    <img src="${anime.image}" alt="${anime.title}" class="anime-image" loading="lazy" 
         onerror="this.src='https://placehold.co/120x170/1a1a3a/5FD8FF?text=Anime+Error'">
    <div class="anime-title">${anime.title}</div>
  `;
  container.appendChild(animeCard);
}

// ğŸ”¥ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Firebase Storage
async function uploadImage(file, type) {
  const maxSize = 5 * 1024 * 1024; // 5MB
  if (file.size > maxSize) {
      throw new Error("Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø© ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª.");
  }
  
  // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ù„Ù Ù‡Ùˆ ØµÙˆØ±Ø©
  if (!file.type.startsWith('image/')) {
    throw new Error("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø© ØµØ§Ù„Ø­.");
  }
  
  try {
    // Ù…Ø³Ø§Ø± Ø§Ù„ØªØ®Ø²ÙŠÙ†: profile-images/UID_timestamp
    const path = `${type}-images/${currentUser.uid}_${Date.now()}`;
    const storageRef = ref(storage, path);
    const snapshot = await uploadBytes(storageRef, file);
    const downloadURL = await getDownloadURL(snapshot.ref);
    return downloadURL;
  } catch (error) {
    console.error("ğŸš¨ Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©:", error);
    // ØªØ­Ø³ÙŠÙ† Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
    throw new Error(`ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹: ${error.message.includes('permission-denied') ? 'Ù„Ø§ ØªÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø±ÙØ¹' : 'Ø®Ø·Ø£ ÙÙ†ÙŠ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ†'}`);
  }
}

// ğŸ”¥ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØ±Ø© ÙˆØ±ÙØ¹Ù‡Ø§
function handleImageSelection(type) {
  const input = document.createElement('input');
  input.type = 'file';
  input.accept = 'image/*';
  
  input.onchange = async (e) => {
    const file = e.target.files[0];
    if (!file) return;
    
    // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ù‚Ø¯ÙŠÙ…
    dom.notification.classList.remove('show');
    clearTimeout(dom.notification.dataset.timeoutId);
    
    try {
      showNotification("ğŸ“¤ Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©... Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±.", "loading"); 
      
      const downloadURL = await uploadImage(file, type);
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Firestore ÙˆÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
      if (type === 'profile') {
        // ØªØ­Ø¯ÙŠØ« ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ ÙÙŠ Authentication Ù„ÙƒÙŠ ØªØ¸Ù‡Ø± ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù† (Ø¬ÙˆØ¬Ù„ØŒ Ø¥Ù„Ø®)
        await updateProfile(currentUser, { photoURL: downloadURL }); 
        await updateUserData({ profileImage: downloadURL });
      } else if (type === 'cover') {
        await updateUserData({ coverImage: downloadURL });
      }
      
      showNotification("âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!");
      
    } catch (error) {
      console.error("ğŸš¨ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø©:", error);
      // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
      showNotification(`âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø©: ${error.message || 'Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}`, "error"); 
    }
  };
  
  input.click();
}

// Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
function setupEventListeners() {
  // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
  dom.editNameBtn.addEventListener('click', () => {
    showEditModal('ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù…', userData.name, async (newValue) => {
      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø·ÙˆÙ„ Ø§Ù„Ø§Ø³Ù…
      if (newValue.length < 3) {
        showNotification('âŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø§Ø³Ù… 3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„', 'error');
        return;
      }
      const success = await updateUserData({ name: newValue });
      if (success) {
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø§Ø³Ù… ÙÙŠ Auth Ø£ÙŠØ¶Ø§Ù‹
        await updateProfile(currentUser, { displayName: newValue }); 
      }
    });
  });
  
  dom.editBioBtn.addEventListener('click', () => {
    showEditModal('ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø¨Ø°Ø©', userData.bio, async (newValue) => {
      if (newValue.length > 120) {
        showNotification('âŒ ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù†Ø¨Ø°Ø© Ø£Ù‚Ù„ Ù…Ù† 120 Ø­Ø±ÙØ§Ù‹', 'error');
        return;
      }
      await updateUserData({ bio: newValue });
    });
  });
  
  dom.changeImageBtn.addEventListener('click', () => {
    handleImageSelection('profile');
  });
  
  dom.changeCoverBtn.addEventListener('click', () => {
    handleImageSelection('cover');
  });
  
  dom.verifyAccountBtn.addEventListener('click', () => {
    // Ù…Ù†Ø¹ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØ¹Ù„ Ø¨Ø§Ù„ÙØ¹Ù„
    if (userData && userData.verified) {
      showNotification('âœ… Ø­Ø³Ø§Ø¨Ùƒ Ù…ÙØ¹Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹! Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø©.');
      return;
    }
    
    showEditModal('Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„', '', async (code) => {
      if (code === verificationCode) { // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
        const success = await updateUserData({ verified: true });
        if (success) {
          showNotification('ğŸ‰ ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù…ÙŠØ² Ø¨Ù†Ø¬Ø§Ø­! Ù†ÙˆØ±Øª OraaSlayer.');
        } else {
          showNotification('âŒ ÙØ´Ù„ ÙÙ†ÙŠ ÙÙŠ Ø§Ù„ØªÙØ¹ÙŠÙ„ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹', 'error');
        }
      } else {
        showNotification('âŒ ÙƒÙˆØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„ ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
      }
    }, 'password'); // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙˆØ¹ Ø¥Ø¯Ø®Ø§Ù„ 'password' Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙƒÙˆØ¯
  });
  
  dom.settingsBtn.addEventListener('click', () => {
    showNotification('ğŸš§ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡... ØªØ±Ù‚Ø¨ÙˆØ§! âš™ï¸');
  });
  
  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
  dom.logoutBtn.addEventListener('click', async () => {
    if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
      try {
        await signOut(auth);
        // ØªØ­Ø³ÙŠÙ†: Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬
        dom.mobileLayout.style.display = 'none';
        dom.loginScreen.classList.add('show');
        showNotification('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­. Ù†Ø±Ø§Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹!');
      } catch (error) {
        console.error("ğŸš¨ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬:", error);
        showNotification('âŒ ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬', 'error');
      }
    }
  });
  
  // Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
  dom.modalConfirm.addEventListener('click', confirmModal);
  dom.modalCancel.addEventListener('click', closeModal);
  dom.modalOverlay.addEventListener('click', (e) => {
    if (e.target === dom.modalOverlay) {
      closeModal();
    }
  });
  // Ù…Ø¹Ø§Ù„Ø¬Ø© Enter ÙÙŠ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
  dom.modalInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      confirmModal();
    }
  });
}

// Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
let currentCallback = null;
function showEditModal(title, currentValue, callback, inputType = 'text') {
  dom.modalTitle.textContent = title;
  dom.modalInput.value = currentValue;
  dom.modalInput.type = inputType;
  currentCallback = callback;
  dom.modalOverlay.classList.add('show');
  dom.modalInput.focus();
}

// ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
function confirmModal() {
  const value = dom.modalInput.value.trim();
  
  // Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ±Ùƒ Ø­Ù‚Ù„ Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„ÙƒÙˆØ¯ ÙØ§Ø±ØºÙ‹Ø§
  if (!value && dom.modalTitle.textContent.includes('Ø§Ù„Ø§Ø³Ù…') || dom.modalTitle.textContent.includes('Ø§Ù„ØªÙØ¹ÙŠÙ„')) {
    showNotification('âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ±Ùƒ Ø§Ù„Ø­Ù‚Ù„ ÙØ§Ø±ØºØ§Ù‹', 'error');
    return;
  }
  
  if (currentCallback) {
    currentCallback(value);
  }
  closeModal();
}

// Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
function closeModal() {
  dom.modalOverlay.classList.remove('show');
  currentCallback = null;
}

// Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
function showNotification(message, type = 'success') {
  const icon = dom.notification.querySelector('i');
  
  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¨Ø³Ù„Ø§Ø³Ø©
  dom.notification.classList.remove('show'); 
  clearTimeout(dom.notification.dataset.timeoutId);
  
  dom.notificationText.textContent = message;
  dom.notification.className = 'notification';
  
  // ØªØºÙŠÙŠØ± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
  if (type === 'error') {
    icon.className = 'fa-solid fa-circle-exclamation';
    dom.notification.classList.add('error');
  } else if (type === 'loading') { 
    icon.className = 'fa-solid fa-spinner fa-spin'; // Ø§Ø³ØªØ®Ø¯Ø§Ù… fa-spin Ù„ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©
    dom.notification.classList.add('loading');
  } 
  else {
    icon.className = 'fa-solid fa-circle-check';
    dom.notification.classList.add('success');
  }
  
  dom.notification.classList.add('show');
  
  // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3.5 Ø«ÙˆØ§Ù†Ù Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¥Ø´Ø¹Ø§Ø± ØªØ­Ù…ÙŠÙ„ (ÙŠØªÙ… Ø¥Ø®ÙØ§Ø¤Ù‡ ÙŠØ¯ÙˆÙŠØ§Ù‹)
  if (type !== 'loading') {
      dom.notification.dataset.timeoutId = setTimeout(() => {
        dom.notification.classList.remove('show');
      }, 3500);
  }
}

// ØªÙ‡ÙŠØ¦Ø© ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¸Ù‡ÙˆØ±
function initAnimations() {
  setTimeout(() => {
    const elements = document.querySelectorAll('.stat-card, .action-btn, .anime-card, .badge-card');
    elements.forEach((el, index) => {
      setTimeout(() => {
        el.style.opacity = '1';
        el.style.transform = 'translateY(0)';
      }, index * 120); // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ø¸Ù‡ÙˆØ± Ù…ØªØªØ§Ù„Ù Ø£ÙƒØ«Ø± Ø¬Ø§Ø°Ø¨ÙŠØ©
    });
  }, 500);
}
</script>
</body>
</html>
